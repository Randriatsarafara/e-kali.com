<div class="commande">
  <!-- <div class="search pb-6">
    <div class="border overflow-hidden sm:rounded-md p-5">
      <div class="mb-3">
        <div class="flex justify-between flex-wrap">
          <h4>Recherche :</h4>
        </div>
        <div class="mt-3 flex">
          <input
            type="text"
            placeholder="Tapez ici ce que vous voullez rechercher..."
            class="flex-1 w-full sm:text-sm lg:text-xl border-gray-300 rounded-l-md rounded-r-md py-3 px-6"
            required
          />
        </div>
        <div class="mt-3 flex">
          <button (click)="advanceSearchExpanded = !advanceSearchExpanded" mat-button><mat-icon>tune</mat-icon></button>
        </div>
      </div>
      <mat-expansion-panel [expanded]="advanceSearchExpanded">
        <div class="grid grid-cols-6 gap-6 mt-4">
          <div class="col-span-6 sm:col-span-3">
            <div class="flex justify-between flex-wrap">
              <p>Prix minimum :</p>
            </div>
            <input
              type="text"
              class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"
              placeholder="0.0"
            />
          </div>
          <div class="col-span-6 sm:col-span-3">
            <div class="flex justify-between flex-wrap">
              <p>Prix maximum :</p>
            </div>
            <input
              type="text"
              class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"
              placeholder="0.0"
            />
          </div>
        </div>
      </mat-expansion-panel>
    </div>
</div> -->

  <div class="table-inside">
    <div class="flex flex-col border ltLg:responsive">
      <div class="flex items-center p-4 border-b">
        <div class="w-12/12 text-left">
          <b>Nombre Total : <span bg-warn>{{count}}</span></b>
        </div>
      </div>
      <div class="flex items-center p-4 border-b">
        <div class="w-4/12 font-medium text-left">LISTE DES PLATS</div>
        <div class="w-4/12 font-medium text-left">Client</div>
        <div class="w-2/12 font-medium text-left">Prix Total</div>
        <div class="w-2/12 font-medium text-left">Quantite Total</div>
        <div class="w-2/12 font-medium text-center">Status</div>
        <div class="w-1/12 font-medium text-center">Livreur</div>
      </div>
      <div class="flex items-center p-4 border-b" *ngFor="let com of commande;let i = index">
        <div class="w-4/12 toutplat">
          <span *ngFor="let det of com.detail">
            <p style="font-size: 12px;"><b>{{det.idplatlib.designation}} :</b> {{det.quantite}}</p>
          </span>
        </div>
        <div class="w-4/12 text-left">
          <p>{{com.userlib.nom}}</p>
          <p>{{com.userlib.adresse}}</p>
          <p>{{com.userlib.numero}}</p>
        </div>
        <div class="w-2/12 text-left">{{com.montant}} Ariary</div>
        <div class="w-2/12 text-left">
          {{com.quantite}} Unit√©
        </div>
        <div class="w-2/12 text-center">
          <select [(ngModel)]="status[i]" (change)="livraison(com._id,i)">
            <option *ngIf="(status[i]==='EN ATTENTE')" value="EN ATTENTE">EN ATTENTE</option>
            <option *ngIf="(status[i]==='EN ATTENTE') || (status[i]==='EN COURS')" value="EN COURS">EN COURS</option>
            <option value="LIVRER">LIVRER</option>
          </select>
        </div>
        <div *ngIf="com.livreurlib.nom" class="w-1/12 text-center">
            {{com.livreurlib.nom}}
        </div>
      </div>
    </div>
  </div>
</div>
